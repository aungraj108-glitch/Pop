<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Lite Image Master üç≠</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --bg: #f0f2f5;
            --card: #ffffff;
            --text: #1a1a1a;
            --primary: #ff477e;
            --secondary: #00d2ff;
            --accent: #ffbe0b;
            --shadow: 0 10px 30px rgba(0,0,0,0.1);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        [data-theme="dark"] {
            --bg: #0f172a;
            --card: #1e293b;
            --text: #f8fafc;
            --shadow: 0 10px 40px rgba(0,0,0,0.4);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Outfit', sans-serif; }

        body {
            background-color: var(--bg);
            color: var(--text);
            transition: var(--transition);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            max-width: 900px;
            width: 100%;
            background: var(--card);
            border-radius: 30px;
            padding: 40px;
            box-shadow: var(--shadow);
            border: 4px solid var(--primary);
            position: relative;
        }

        .header { text-align: center; margin-bottom: 30px; }
        .header h1 { font-size: 2.5rem; font-weight: 800; background: linear-gradient(45deg, var(--primary), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        .theme-toggle {
            position: absolute; top: 20px; right: 20px;
            cursor: pointer; padding: 10px; border-radius: 50%;
            background: var(--accent); border: none; font-size: 1.5rem;
        }

        .dropzone {
            border: 4px dashed #ddd;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
            background: rgba(255, 71, 126, 0.05);
            margin-bottom: 30px;
        }
        .dropzone:hover, .dropzone.dragover { border-color: var(--primary); background: rgba(255, 71, 126, 0.1); }

        #editor { display: none; grid-template-columns: 1fr 1fr; gap: 30px; }
        @media (max-width: 768px) { #editor { grid-template-columns: 1fr; } }

        .preview-container { text-align: center; }
        canvas { 
            max-width: 100%; height: auto; border-radius: 15px; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.2); background: #eee;
        }

        .controls { display: flex; flex-direction: column; gap: 15px; }
        .control-group { background: rgba(0,0,0,0.03); padding: 15px; border-radius: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: 600; font-size: 0.9rem; }
        input, select { 
            width: 100%; padding: 10px; border-radius: 10px; border: 2px solid #ddd;
            background: var(--card); color: var(--text); outline: none;
        }

        .btn-stack { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px; }
        .btn {
            padding: 12px; border: none; border-radius: 12px; cursor: pointer;
            font-weight: 800; transition: var(--transition); color: white;
            text-transform: uppercase; letter-spacing: 1px;
        }
        .btn-primary { background: var(--primary); }
        .btn-secondary { background: var(--secondary); }
        .btn-accent { background: var(--accent); color: #000; }
        .btn:hover { transform: translateY(-3px) scale(1.02); opacity: 0.9; }

        .stats-bar {
            display: flex; justify-content: space-around; width: 100%; max-width: 900px;
            margin-top: 30px; text-align: center;
        }
        .stat-item h3 { font-size: 1.5rem; color: var(--primary); }
        .rating { color: var(--accent); font-size: 1.2rem; cursor: pointer; }

        .social-links { margin-top: 20px; display: flex; gap: 15px; }
        .social-links a { color: var(--text); text-decoration: none; font-size: 1.5rem; transition: 0.2s; }
        .social-links a:hover { color: var(--primary); transform: scale(1.2); }

        .make-in-india { margin-top: 20px; font-weight: 600; opacity: 0.8; }
    </style>
</head>
<body data-theme="light">
    <div class="container">
        <button class="theme-toggle" onclick="toggleTheme()">üåù</button>
        <div class="header">
            <h1>AI-Lite Master üç≠</h1>
            <p>Fast ‚Ä¢ Secure ‚Ä¢ Candy UI</p>
        </div>
        <div class="dropzone" id="dropzone" onclick="document.getElementById('fileInput').click()">
            <i data-lucide="cloud-lightning" style="width: 48px; height: 48px; color: var(--primary);"></i>
            <h3>Drop your candy image here</h3>
            <p>or click to browse</p>
            <input type="file" id="fileInput" hidden accept="image/*">
        </div>
        <div id="editor">
            <div class="preview-container">
                <canvas id="canvas"></canvas>
                <p id="size-info" style="margin-top:10px; font-weight:bold; color:var(--primary)"></p>
            </div>
            <div class="controls">
                <div class="control-group">
                    <label>Rename File</label>
                    <input type="text" id="filename" placeholder="image_name">
                </div>
                <div class="control-group">
                    <label>Dimensions (mm)</label>
                    <div style="display:flex; gap:10px;">
                        <input type="number" id="mm-w" placeholder="Width">
                        <input type="number" id="mm-h" placeholder="Height">
                    </div>
                </div>
                <div class="control-group">
                    <label>Target Size: <span id="kb-label">250</span> KB</label>
                    <input type="range" id="kb-range" min="20" max="500" value="250">
                    <small>AI Mode: Auto-optimizing quality...</small>
                </div>
                <div class="btn-stack">
                    <button class="btn btn-secondary" onclick="processImage('jpeg')">Save JPEG</button>
                    <button class="btn btn-primary" onclick="processImage('png')">Save PNG</button>
                    <button class="btn btn-accent" onclick="processImage('pdf')" style="grid-column: span 2;">Download as PDF</button>
                </div>
                <button class="btn btn-secondary" onclick="location.reload()" style="background:#666;">Reset</button>
            </div>
        </div>
    </div>

    <div class="stats-bar">
        <div class="stat-item"><h3 id="user-counter">10,000</h3><p>Happy Users</p></div>
        <div class="stat-item"><div class="rating" onclick="rate()">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div><p>Global Rating</p></div>
    </div>

    <div class="social-links">
        <a href="#" onclick="share('wa')"><i data-lucide="message-circle"></i></a>
        <a href="#" onclick="share('x')"><i data-lucide="twitter"></i></a>
        <a href="#" onclick="share('tg')"><i data-lucide="send"></i></a>
    </div>

    <div class="make-in-india">Make in India ‚òÄÔ∏è | By arc arcs</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        lucide.createIcons();
        let originalImage = null;
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const mmToPx = 3.78;

        function toggleTheme() {
            const body = document.body;
            const btn = document.querySelector('.theme-toggle');
            if(body.getAttribute('data-theme') === 'light') {
                body.setAttribute('data-theme', 'dark');
                btn.innerText = 'üåù';
            } else {
                body.setAttribute('data-theme', 'light');
                btn.innerText = 'üåö';
            }
        }

        const dropzone = document.getElementById('dropzone');
        const fileInput = document.getElementById('fileInput');

        fileInput.addEventListener('change', handleFile);
        dropzone.addEventListener('dragover', (e) => { e.preventDefault(); dropzone.classList.add('dragover'); });
        dropzone.addEventListener('dragleave', () => dropzone.classList.remove('dragover'));
        dropzone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropzone.classList.remove('dragover');
            handleFile({ target: { files: e.dataTransfer.files } });
        });

        function handleFile(e) {
            const file = e.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = (event) => {
                originalImage = new Image();
                originalImage.onload = () => {
                    document.getElementById('dropzone').style.display = 'none';
                    document.getElementById('editor').style.display = 'grid';
                    document.getElementById('mm-w').value = Math.round(originalImage.width / mmToPx);
                    document.getElementById('mm-h').value = Math.round(originalImage.height / mmToPx);
                    document.getElementById('filename').value = file.name.split('.')[0] + "_lite";
                    renderCanvas();
                };
                originalImage.src = event.target.result;
            };
            reader.readAsDataURL(file);
        }

        function renderCanvas() {
            const w = document.getElementById('mm-w').value * mmToPx;
            const h = document.getElementById('mm-h').value * mmToPx;
            canvas.width = w; canvas.height = h;
            ctx.drawImage(originalImage, 0, 0, w, h);
            document.getElementById('size-info').innerText = `Current: ${w.toFixed(0)}x${h.toFixed(0)} px`;
        }

        async function processImage(format) {
            const targetKB = document.getElementById('kb-range').value;
            const filename = document.getElementById('filename').value || 'export';
            renderCanvas();

            if (format === 'pdf') {
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF(canvas.width > canvas.height ? 'l' : 'p', 'mm', [canvas.width/mmToPx, canvas.height/mmToPx]);
                const imgData = canvas.toDataURL('image/jpeg', 0.9);
                pdf.addImage(imgData, 'JPEG', 0, 0, canvas.width/mmToPx, canvas.height/mmToPx);
                pdf.save(`${filename}.pdf`);
                return;
            }

            let quality = 1.0;
            let low = 0.1, high = 1.0;
            let finalDataUrl = '';

            for(let i=0; i<8; i++) {
                quality = (low + high) / 2;
                finalDataUrl = canvas.toDataURL(`image/${format}`, quality);
                const size = Math.round((finalDataUrl.length * 3/4) / 1024);
                if(size > targetKB) high = quality;
                else low = quality;
            }

            const link = document.createElement('a');
            link.download = `${filename}.${format}`;
            link.href = finalDataUrl;
            link.click();
        }

        document.getElementById('kb-range').addEventListener('input', (e) => {
            document.getElementById('kb-label').innerText = e.target.value;
        });

        let count = 10000;
        setInterval(() => {
            count += Math.floor(Math.random() * 5);
            document.getElementById('user-counter').innerText = count.toLocaleString();
        }, 3000);

        function share(platform) {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent("Check out this AI-Lite Image Master! üç≠");
            const links = {
                wa: `https://api.whatsapp.com/send?text=${text}%20${url}`,
                x: `https://twitter.com/intent/tweet?text=${text}&url=${url}`,
                tg: `https://t.me/share/url?url=${url}&text=${text}`
            };
            window.open(links[platform], '_blank');
        }

        function rate() { alert("Thanks for the 5-star candy rating! üç≠üåü"); }
 </script>
</body>
</html>
